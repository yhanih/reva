# Reva - Performance Marketing Platform MVP

Reva is a web application that connects marketers with promoters to drive authentic engagement through trackable links. Marketers create campaigns, promoters share them, and both benefit from verified clicks.

## Features

### For Marketers
- **Campaign Management**: Create and manage performance-based campaigns
- **Budget Control**: Set budgets and payout rates per click
- **Real-time Analytics**: Track clicks, conversions, and spending
- **Performance Insights**: View validation rates and campaign ROI
- **Promoter Network**: See which promoters are driving results

### For Promoters
- **Campaign Discovery**: Browse active campaigns from marketers
- **Link Generation**: Create unique tracking links for campaigns
- **Earnings Dashboard**: Track total, pending, and approved earnings
- **Performance Metrics**: View top-performing campaigns and click stats
- **Simple Payouts**: Transparent earning structure with status tracking

## Tech Stack

- **Frontend**: React + Vite
- **Styling**: Tailwind CSS
- **Backend**: Supabase (PostgreSQL + Authentication)
- **Routing**: React Router
- **Click Verification**: Custom anti-fraud system

## Setup Instructions

### Prerequisites

- Node.js (v18 or higher)
- A Supabase account and project
- npm or yarn package manager

### 1. Clone and Install

```bash
cd reva-app
npm install
```

### 2. Configure Environment Variables

Create a `.env` file in the `reva-app` directory:

```env
VITE_SUPABASE_URL=your_supabase_project_url
VITE_SUPABASE_ANON_KEY=your_supabase_anon_key
```

Get these values from your Supabase project settings:
1. Go to https://app.supabase.com
2. Select your project
3. Navigate to Settings > API
4. Copy the Project URL and anon/public key

### 3. Set Up the Database

1. Open your Supabase project dashboard
2. Go to the SQL Editor
3. Copy the contents of `supabase-schema.sql`
4. Paste and run the SQL script

This will create:
- All necessary tables (profiles, campaigns, tracking_links, clicks, earnings)
- Row Level Security (RLS) policies
- Database triggers for automation
- Indexes for performance

### 4. Run the Application

Development mode:
```bash
npm run dev
```

The app will be available at `http://localhost:5000`

Production build:
```bash
npm run build
npm run preview
```

## Database Schema Overview

- **profiles**: User information and roles (marketer/promoter)
- **campaigns**: Marketing campaigns with budgets and payouts
- **tracking_links**: Unique links generated by promoters
- **clicks**: Click events with validation and fraud detection
- **earnings**: Promoter earnings with approval workflow

## User Flows

### Marketer Flow
1. Sign up as a marketer
2. Create a campaign with budget and payout settings
3. View campaign details and performance metrics
4. Monitor promoter activity and click validation
5. Track budget utilization in real-time

### Promoter Flow
1. Sign up as a promoter
2. Browse active campaigns
3. Generate unique tracking links
4. Share links to drive clicks
5. Track earnings and view top campaigns
6. Monitor payment status (pending → approved → paid)

### Click Tracking Flow
1. User clicks a promoter's tracking link (`/track/{shortCode}`)
2. System validates the click (fraud detection, IP checking, etc.)
3. Valid clicks create earnings records
4. Campaign budget is automatically decremented
5. User is redirected to the destination URL

## Key Components

- **Dashboard**: Role-specific landing page with metrics
- **Hero**: Landing page with signup/login
- **CreateCampaign**: Form for marketers to create campaigns
- **MyCampaigns**: List view of marketer's campaigns
- **CampaignDetails**: Detailed analytics for a specific campaign
- **BrowseCampaigns**: Promoter view of available campaigns
- **MyLinks**: Promoter's generated tracking links
- **Earnings**: Detailed earnings breakdown for promoters
- **Track**: Click processing and redirection handler

## Security Features

- Row Level Security (RLS) on all database tables
- Click validation and fraud detection
- IP-based duplicate prevention
- User agent verification
- Secure authentication via Supabase Auth
- Protected routes with authentication checks

## Customization

### Styling
All styles use Tailwind CSS with a dark gradient theme (cyan-500 to purple-500). Modify `tailwind.config.js` to customize colors and styles.

### Click Verification
Edit `src/lib/clickVerification.js` to adjust fraud detection rules:
- Time-based verification
- IP tracking
- User agent validation
- Custom validation logic

## Deployment

### Recommended Platforms
- **Vercel**: Zero-config deployment for Vite apps
- **Netlify**: Simple continuous deployment
- **Replit**: Built-in deployment and hosting

### Environment Variables for Production
Ensure all environment variables are set in your deployment platform:
- `VITE_SUPABASE_URL`
- `VITE_SUPABASE_ANON_KEY`

## Troubleshooting

### Database Issues
- Verify Supabase connection credentials
- Check that RLS policies are enabled
- Ensure all SQL schema has been executed

### Authentication Problems
- Clear browser cache and cookies
- Verify Supabase Auth is enabled
- Check email confirmation settings in Supabase

### Click Tracking Not Working
- Verify database triggers are active
- Check click verification logic
- Review browser console for errors

## Future Enhancements

- Advanced analytics and reporting
- Payment integration (Stripe/PayPal)
- Email notifications for earnings
- Campaign templates
- Bulk campaign management
- API for third-party integrations
- Mobile app for promoters

## Support

For issues or questions:
1. Check the Supabase logs in your project dashboard
2. Review browser console for errors
3. Verify all environment variables are set correctly
4. Ensure database schema is properly initialized

## License

MIT License - feel free to use this project as a starting point for your own performance marketing platform.
